{"version":3,"sources":["components/FilmCard/FilmCard.js","store/index.js","store/redux.js","components/FilmsList/FilmsList.js","components/FormField/FormField.js","validation.js","components/NewFilm/NewFilm.js","components/FilmDetails/FilmDetails.js","App.js","index.js"],"names":["FilmCard","props","title","description","imgUrl","imdbUrl","id","react_default","a","createElement","react_router_dom","to","concat","className","src","alt","href","defaultProps","ACTION_TYPES","ADD_NEW_FILM","addNewFilm","film","type","payload","initialState","films","store","reducer","state","listeners","getState","dispatch","action","forEach","listener","subscribe","cb","Error","push","filter","createStore","arguments","length","undefined","_objectSpread","Object","toConsumableArray","FilmsList","_React$Component","_getPrototypeOf2","_this","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","unsubscribe","inherits","createClass","key","value","_this2","setState","map","FilmCard_FilmCard_FilmCard","assign","React","Component","FormField","memo","error","name","label","onChange","placeholder","inputClass","cx","is-danger","controlClass","has-icons-right","Control","htmlFor","required","formValidators","NewFilm","_Component","handleChange","_ref","_ref$target","target","prevState","defineProperty","handleSubmit","event","preventDefault","onAdd","formValue","getFormValue","_this$validate","validate","hasError","errors","newState","_ref3","_ref4","slicedToArray","fromEntries","entries","reduce","acc","entry","NewFilm_objectSpread","_ref5","_ref6","fieldData","validator","some","errorData","_this$state","onSubmit","FormField_FormField","FilmDetails","findFilm","match","find","String","params","API_URL","App","searchWord","handleAddFilm","newFilm","handleSearchChange","searchFilm","fetch","then","response","json","data","Title","Plot","Poster","Website","uuidv4","onClick","react_router","exact","path","component","NewFilm_NewFilm","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.5f1e4b70.chunk.js","sourcesContent":["/* eslint-disable max-len */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './FilmCard.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const FilmCard = (props) => {\r\n  const {\r\n    title,\r\n    description,\r\n    imgUrl,\r\n    imdbUrl,\r\n    id,\r\n  } = props;\r\n\r\n  return (\r\n    <Link to={`/film/${id}`} className=\"card\">\r\n      <div className=\"card-image\">\r\n        <figure className=\"image is-4by3\">\r\n          <img\r\n            src={imgUrl}\r\n            alt=\"Film logo\"\r\n          />\r\n        </figure>\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <div className=\"media\">\r\n          <div className=\"media-left\">\r\n            <figure className=\"image is-48x48\">\r\n              <img\r\n                src=\"https://images-na.ssl-images-amazon.com/images/I/315W5zxAnTL._SY355_.png\"\r\n                alt=\"imdb\"\r\n              />\r\n            </figure>\r\n          </div>\r\n          <div className=\"media-content\">\r\n            <p className=\"title is-4\">{title}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"content\">\r\n          {description}\r\n          <br />\r\n          <a href={imdbUrl}>IMDB</a>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nFilmCard.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  description: PropTypes.string,\r\n  imgUrl: PropTypes.string.isRequired,\r\n  imdbUrl: PropTypes.string.isRequired,\r\n};\r\n\r\nFilmCard.defaultProps = {\r\n  description: '',\r\n};\r\n","import { createStore } from './redux';\r\n\r\nconst ACTION_TYPES = {\r\n  ADD_NEW_FILM: 'FILM::ADD',\r\n};\r\n\r\nexport const addNewFilm = film => ({\r\n  type: ACTION_TYPES.ADD_NEW_FILM,\r\n  payload: film,\r\n});\r\n\r\nconst initialState = {\r\n  films: [],\r\n};\r\n\r\nfunction reducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case ACTION_TYPES.ADD_NEW_FILM: {\r\n      return {\r\n        ...state,\r\n        films: [...state.films, action.payload],\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const store = createStore(reducer);\r\n\r\n// console.log('STATE', store.getState());\r\n//\r\n// const unsubscribe1 = store.subscribe((state) => {\r\n//   console.log(state.films.map(({ title }) => title));\r\n// });\r\n//\r\n// store.dispatch(addNewFilm({ title: 'Avengers' }));\r\n//\r\n// store.subscribe((state) => {\r\n//   console.log(state.films);\r\n// });\r\n// unsubscribe1();\r\n//\r\n// store.dispatch(addNewFilm({ title: 'Spider-Man' }));\r\n//\r\n// console.log('STATE', store.getState());\r\n","export function createStore(reducer) {\r\n  let state = reducer();\r\n  let listeners = [];\r\n\r\n  return {\r\n    getState() {\r\n      return state;\r\n    },\r\n    dispatch(action) {\r\n      state = reducer(state, action);\r\n\r\n      listeners.forEach(listener => listener(state));\r\n    },\r\n    subscribe(cb) {\r\n      if (typeof cb !== 'function') {\r\n        throw new Error('Callback should be a function');\r\n      }\r\n\r\n      listeners.push(cb);\r\n\r\n      return () => {\r\n        listeners = listeners\r\n          .filter(listener => listener !== cb);\r\n      };\r\n    },\r\n  };\r\n}\r\n","import React from 'react';\r\nimport './FilmsList.scss';\r\nimport { FilmCard } from '../FilmCard';\r\nimport { store } from '../../store';\r\n\r\nexport class FilmsList extends React.Component {\r\n  state = {\r\n    films: store.getState().films,\r\n  }\r\n\r\n  unsubscribe = null;\r\n\r\n  componentDidMount() {\r\n    this.unsubscribe = store\r\n      .subscribe(() => {\r\n        this.setState({\r\n          films: store.getState().films,\r\n        });\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribe();\r\n  }\r\n\r\n  render() {\r\n    const { films } = this.state;\r\n\r\n    return (\r\n      <div className=\"films\">\r\n        {films.map(film => (\r\n          <FilmCard key={film.id} {...film} />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\nimport './FormField.scss';\r\n\r\nexport const FormField = memo((props) => {\r\n  const {\r\n    error,\r\n    name,\r\n    label,\r\n    type,\r\n    onChange,\r\n    placeholder,\r\n    value,\r\n  } = props;\r\n\r\n  const inputClass = cx('input', { 'is-danger': !!error });\r\n  const controlClass = cx('control', { 'has-icons-right': !!error });\r\n\r\n  const Control = type === 'textarea' ? type : 'input';\r\n\r\n  return (\r\n    <div className=\"field\">\r\n      <label htmlFor={name} className=\"label\">\r\n        {label}\r\n      </label>\r\n      <div className={controlClass}>\r\n        <Control\r\n          name={name}\r\n          id={name}\r\n          className={inputClass}\r\n          type={type}\r\n          placeholder={placeholder}\r\n          value={value}\r\n          onChange={onChange}\r\n        />\r\n        {error && (\r\n          <span className=\"icon is-small is-right\">\r\n            <i className=\"fas fa-exclamation-triangle\" />\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {error && (\r\n        <p className=\"help is-danger\">{error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nFormField.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  type: PropTypes.string,\r\n  error: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n};\r\n\r\nFormField.defaultProps = {\r\n  error: '',\r\n  type: 'text',\r\n  placeholder: 'Type text here',\r\n};\r\n","export const required = (name, value) => {\r\n  return value\r\n    ? null\r\n    : `Field ${name} is required`;\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FormField } from '../FormField';\r\nimport { required } from '../../validation';\r\n\r\nconst initialState = {\r\n  title: {\r\n    value: '',\r\n    error: null,\r\n  },\r\n  description: {\r\n    value: '',\r\n    error: null,\r\n  },\r\n  imgUrl: {\r\n    value: '',\r\n    error: null,\r\n  },\r\n  imdbUrl: {\r\n    value: '',\r\n    error: null,\r\n  },\r\n};\r\n\r\nconst formValidators = {\r\n  title: required,\r\n  imgUrl: required,\r\n  imdbUrl: required,\r\n};\r\n\r\nexport class NewFilm extends Component {\r\n  state = initialState;\r\n\r\n  getFormValue() {\r\n    return Object.entries(this.state)\r\n      .reduce((acc, entry) => ({\r\n        ...acc,\r\n        [entry[0]]: entry[1].value,\r\n      }), {});\r\n  }\r\n\r\n  handleChange = ({ target: { name, value } }) => {\r\n    this.setState(prevState => ({\r\n      [name]: {\r\n        value,\r\n        error: prevState[name].error,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const { onAdd } = this.props;\r\n    const formValue = this.getFormValue();\r\n\r\n    const { hasError, errors } = this.validate();\r\n\r\n    if (hasError) {\r\n      this.setState((prevState) => {\r\n        const newState = errors.map(([name, error]) => {\r\n          return [\r\n            name,\r\n            {\r\n              error,\r\n              value: prevState[name].value,\r\n            },\r\n          ];\r\n        });\r\n\r\n        return Object.fromEntries(newState);\r\n      });\r\n    } else {\r\n      this.setState(initialState);\r\n      onAdd(formValue);\r\n    }\r\n  };\r\n\r\n  validate() {\r\n    const errors = Object.entries(this.state)\r\n      .map(([name, fieldData]) => {\r\n        const validator = formValidators[name];\r\n        const error = validator\r\n          ? validator(name, fieldData.value)\r\n          : null;\r\n\r\n        return [name, error];\r\n      });\r\n\r\n    const hasError = errors\r\n      .some(errorData => !!errorData[1]);\r\n\r\n    return {\r\n      hasError,\r\n      errors,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      title,\r\n      description,\r\n      imgUrl,\r\n      imdbUrl,\r\n    } = this.state;\r\n\r\n    return (\r\n      <form onSubmit={this.handleSubmit}>\r\n        <FormField\r\n          {...title}\r\n          name=\"title\"\r\n          placeholder=\"Input film title\"\r\n          label=\"Title\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <FormField\r\n          {...description}\r\n          type=\"textarea\"\r\n          name=\"description\"\r\n          placeholder=\"Input film description\"\r\n          label=\"Description\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <FormField\r\n          {...imgUrl}\r\n          name=\"imgUrl\"\r\n          placeholder=\"Paste image url\"\r\n          label=\"Image url\"\r\n          onChange={this.handleChange}\r\n        />\r\n        <FormField\r\n          {...imdbUrl}\r\n          name=\"imdbUrl\"\r\n          placeholder=\"Paste IMDB url\"\r\n          label=\"IMDB url\"\r\n          onChange={this.handleChange}\r\n        />\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"button is-primary\"\r\n        >\r\n          Add film\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nNewFilm.propTypes = {\r\n  onAdd: PropTypes.func.isRequired,\r\n};\r\n","/* eslint-disable max-len */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { store } from '../../store';\r\n\r\nexport class FilmDetails extends Component {\r\n  state = {\r\n    film: this.findFilm(),\r\n  }\r\n\r\n  unsubscribe = null;\r\n\r\n  componentDidMount() {\r\n    this.unsubscribe = store\r\n      .subscribe(() => {\r\n        this.setState({\r\n          film: this.findFilm(),\r\n        });\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribe();\r\n  }\r\n\r\n  findFilm() {\r\n    const { match } = this.props;\r\n    return store.getState().films\r\n      .find(film => String(film.id) === match.params.id);\r\n  }\r\n\r\n  render() {\r\n    const { film } = this.state;\r\n\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-image\">\r\n          <figure className=\"image is-4by3\">\r\n            <img\r\n              src={film.imgUrl}\r\n              alt=\"Film logo\"\r\n            />\r\n          </figure>\r\n        </div>\r\n        <div className=\"card-content\">\r\n          <div className=\"media\">\r\n            <div className=\"media-left\">\r\n              <figure className=\"image is-48x48\">\r\n                <img\r\n                  src=\"https://images-na.ssl-images-amazon.com/images/I/315W5zxAnTL._SY355_.png\"\r\n                  alt=\"imdb\"\r\n                />\r\n              </figure>\r\n            </div>\r\n            <div className=\"media-content\">\r\n              <p className=\"title is-4\">{film.title}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"content\">\r\n            {film.description}\r\n            <br />\r\n            <a href={film.imdbUrl}>IMDB</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFilmDetails.propTypes = {\r\n  match: PropTypes.shape({\r\n    params: PropTypes.shape({\r\n      id: PropTypes.string,\r\n    }),\r\n  }).isRequired,\r\n};\r\n","import React, { Component } from 'react';\nimport './App.scss';\nimport {\n  BrowserRouter,\n  Switch,\n  Route,\n} from 'react-router-dom';\n\nimport uuidv4 from 'uuidv4';\nimport { FilmsList } from './components/FilmsList';\nimport { NewFilm } from './components/NewFilm';\nimport { FormField } from './components/FormField';\nimport { FilmDetails } from './components/FilmDetails';\nimport { store, addNewFilm } from './store';\n\nconst API_URL = 'https://www.omdbapi.com/?apikey=2f4a38c9&t=';\n\nexport class App extends Component {\n  state = {\n    searchWord: '',\n  };\n\n  componentDidMount() {\n    this.searchFilm('spider');\n  }\n\n  handleAddFilm = (newFilm) => {\n    store.dispatch(addNewFilm(newFilm));\n  };\n\n  handleSearchChange = ({ target }) => {\n    this.setState({ searchWord: target.value });\n  };\n\n  searchFilm = (searchWord) => {\n    fetch(`${API_URL}${searchWord}`)\n      .then(response => response.json())\n      .then((data) => {\n        const {\n          Title,\n          Plot,\n          Poster,\n          Website,\n        } = data;\n\n        const newFilm = {\n          id: uuidv4(),\n          title: Title,\n          description: Plot,\n          imgUrl: Poster,\n          imdbUrl: Website,\n        };\n\n        store.dispatch(addNewFilm(newFilm));\n      });\n  };\n\n  render() {\n    const { searchWord } = this.state;\n\n    return (\n      <BrowserRouter>\n        <div className=\"page\">\n          <div className=\"content\">\n            <div className=\"box\">\n              <FormField\n                value={searchWord}\n                name=\"searchWord\"\n                placeholder=\"Type search word\"\n                label=\"Search film\"\n                onChange={this.handleSearchChange}\n              />\n              <button\n                onClick={() => this.searchFilm(searchWord)}\n                type=\"button\"\n                className=\"button is-primary\"\n              >\n                Search film\n              </button>\n            </div>\n\n            <Switch>\n              <Route\n                exact\n                path=\"/\"\n                component={FilmsList}\n              />\n              <Route\n                exact\n                path=\"/film/:id\"\n                component={FilmDetails}\n              />\n            </Switch>\n          </div>\n          <div className=\"sidebar\">\n            <NewFilm onAdd={this.handleAddFilm} />\n          </div>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './App';\r\nimport 'bulma/css/bulma.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}